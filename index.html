<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Teddy Day Krishnaba</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500&family=Poppins:wght@300;400&display=swap" rel="stylesheet">

<style>
body {
    margin: 0;
    padding: 0;
    height: 100vh;
    font-family: 'Poppins', sans-serif;
    background-image: url("https://images.unsplash.com/photo-1542718610-a1d656d1884c");
    background-size: cover;
    background-position: center;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
}

.overlay {
    position: absolute;
    inset: 0;
    background: rgba(255, 220, 230, 0.88);
}

.container {
    position: relative;
    z-index: 2;
    text-align: center;
    max-width: 400px;
    padding: 20px;
}

h1 {
    font-family: 'Playfair Display', serif;
    font-size: 24px;
    color: #5a2a27;
    margin-bottom: 10px;
}

.text {
    min-height: 120px;
    font-size: 16px;
    color: #6b2f2f;
    line-height: 1.6;
}

.teddy {
    font-size: 220px;
    margin: 10px 0;
    cursor: pointer;
    animation: breathe 3s infinite;
}

@keyframes breathe {
    0% { transform: scale(1); }
    50% { transform: scale(1.08); }
    100% { transform: scale(1); }
}

button {
    display: none;
    margin-top: 12px;
    padding: 10px 22px;
    border-radius: 25px;
    border: none;
    background: #b23a48;
    color: white;
    font-size: 14px;
    cursor: pointer;
}

/* Final popup */
.popup {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.75);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 10;
}

.popup-content {
    background: #fff0f5;
    padding: 30px;
    border-radius: 20px;
    text-align: center;
    animation: pop 0.6s ease;
}

@keyframes pop {
    from { transform: scale(0.6); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

.popup h2 {
    font-size: 42px;
    color: #b23a48;
    margin-bottom: 12px;
}

.popup p {
    font-size: 16px;
    color: #6b2f2f;
    line-height: 1.6;
}
</style>
</head>

<body>

<div class="overlay"></div>

<div class="container">
    <h1>Happy Teddy Day Krishnaba Gohil</h1>
    <div class="text" id="text"></div>
    <div class="teddy" id="teddy">ðŸ§¸</div>
    <button id="holdBtn">Hold me longer</button>
</div>

<div class="popup" id="popup">
    <div class="popup-content">
        <h2>I LOVE YOU</h2>
        <p>
            I am sorry for every moment I made you feel hurt or unheard.  
            Thank you for your patience your heart and your love.  
            I am deeply grateful for you and I choose you every day.
        </p>
    </div>
</div>

<!-- Background Music -->
<audio id="bgMusic" loop>
    <source src="Tumhe Kitna Pyaar Karte Bawaal 320 Kbps.mp3" type="audio/mpeg">
</audio>

<script>
const messages = [
    "Hey Krishnaba Gohil. This teddy is my way of holding you close.",
    "Whenever life feels heavy tap this teddy and feel my warmth.",
    "You have been strong even when you were tired. I see you.",
    "I promise to protect your peace and care for your heart.",
    "I love you softly deeply and forever."
];

let index = 0;
let charIndex = 0;
let currentText = "";

const textDiv = document.getElementById("text");
const teddy = document.getElementById("teddy");
const holdBtn = document.getElementById("holdBtn");
const popup = document.getElementById("popup");
const music = document.getElementById("bgMusic");

music.volume = 0.6;

document.body.addEventListener("click", () => {
    music.play();
}, { once: true });

function fadeMusic(direction) {
    const step = 0.05;
    const interval = setInterval(() => {
        if (direction === "down" && music.volume > 0.15) {
            music.volume -= step;
        } else if (direction === "up" && music.volume < 0.6) {
            music.volume += step;
        } else {
            clearInterval(interval);
        }
    }, 100);
}

function speak(text) {
    fadeMusic("down");
    const speech = new SpeechSynthesisUtterance(text);
    speech.rate = 0.9;
    speech.onend = () => fadeMusic("up");
    speechSynthesis.speak(speech);
}

function typeText() {
    if (charIndex < messages[index].length) {
        currentText += messages[index].charAt(charIndex);
        textDiv.innerText = currentText;
        charIndex++;
        setTimeout(typeText, 40);
    } else {
        speak(messages[index]);
        if (index === messages.length - 1) {
            holdBtn.style.display = "inline-block";
        }
    }
}

typeText();

teddy.addEventListener("click", () => {
    if (navigator.vibrate) {
        navigator.vibrate([200, 120, 200]);
    }

    index++;
    if (index < messages.length) {
        charIndex = 0;
        currentText = "";
        typeText();
    }
});

holdBtn.addEventListener("click", () => {
    popup.style.display = "flex";
    if (navigator.vibrate) {
        navigator.vibrate([300, 200, 300]);
    }
});
</script>

</body>
</html>
