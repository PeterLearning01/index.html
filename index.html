<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Words That Are Left Unsaid</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Dancing+Script:wght@500;600&family=Poppins:wght@300;400&display=swap" rel="stylesheet">

<style>
body {
    margin: 0;
    padding: 0;
    height: 100vh;
    background: linear-gradient(180deg, #2c3e50, #4ca1af);
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Poppins', sans-serif;
}

.diary {
    width: 90%;
    max-width: 420px;
    height: 580px;
    background: #fff8ee;
    border-radius: 18px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
    padding: 30px;
    position: relative;
    perspective: 1200px;
}

.page {
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    background: #fff8ee;
    border-radius: 18px;
    padding: 30px;
    box-sizing: border-box;
    transform-origin: left;
    transition: transform 0.9s ease;
}

.page.flip {
    transform: rotateY(-180deg);
}

.diary-name {
    font-family: 'Playfair Display', serif;
    font-size: 22px;
    text-align: center;
    color: #4a2c2a;
}

.date {
    text-align: center;
    font-size: 13px;
    margin-top: 6px;
    opacity: 0.7;
}

.title {
    font-family: 'Playfair Display', serif;
    font-size: 20px;
    text-align: center;
    margin: 18px 0;
    color: #4a2c2a;
}

.promise-text {
    font-family: 'Dancing Script', cursive;
    font-size: 22px;
    line-height: 1.8;
    color: #5a3a2e;
    min-height: 240px;
}

.tap {
    text-align: center;
    margin-top: 18px;
    font-size: 14px;
    opacity: 0.7;
}

.signature {
    position: absolute;
    bottom: 30px;
    right: 30px;
    text-align: right;
    font-family: 'Dancing Script', cursive;
    font-size: 20px;
    color: #4a2c2a;
}
</style>
</head>

<body>

<div class="diary" id="diary">
    <div class="page" id="page">
        <div class="diary-name">The Words That Are Left Unsaid</div>
        <div class="date" id="todayDate"></div>

        <div class="title">Promise Day<br>Krishnaba Gohil</div>

        <div class="promise-text" id="text"></div>

        <div class="tap">Tap to turn the page</div>

        <div class="signature" id="signature"></div>
    </div>
</div>

<audio id="bgMusic" loop>
    <source src="promise-music.mp3" type="audio/mpeg">
</audio>

<script>
const promises = [
    "Some promises are not meant to impress. They are meant to stay.",
    "I promise to listen even when it is uncomfortable.",
    "I promise to choose patience over ego.",
    "I promise to protect your peace and your heart.",
    "I promise to grow even when it is hard.",
    "I promise to stay when it is easier to leave.",
    "Even on the days I fail, I promise I will not stop trying.",
    "You do not need to promise me anything. Just be you. I choose you as you are."
];

let index = 0;
let charIndex = 0;
let currentText = "";

const textDiv = document.getElementById("text");
const page = document.getElementById("page");
const signature = document.getElementById("signature");
const music = document.getElementById("bgMusic");

music.volume = 0.4;

const dateOptions = { day: "numeric", month: "long", year: "numeric" };
document.getElementById("todayDate").innerText =
    new Date().toLocaleDateString("en-GB", dateOptions);

document.body.addEventListener("click", () => {
    music.play();
}, { once: true });

function speak(text) {
    const speech = new SpeechSynthesisUtterance(text);
    speech.rate = 0.85;
    speech.pitch = 1;
    speechSynthesis.speak(speech);
}

function typeText() {
    if (charIndex < promises[index].length) {
        currentText += promises[index].charAt(charIndex);
        textDiv.innerText = currentText;
        charIndex++;
        setTimeout(typeText, 45);
    } else {
        speak(promises[index]);
        if (index === promises.length - 1) {
            signature.innerHTML = "With love<br>Shubham Sharma<br>& Krishnaba Gohil";
        }
    }
}

typeText();

document.getElementById("diary").addEventListener("click", () => {
    if (index >= promises.length - 1) return;

    page.classList.add("flip");

    setTimeout(() => {
        page.classList.remove("flip");
        index++;
        charIndex = 0;
        currentText = "";
        textDiv.innerText = "";
        typeText();

        if (navigator.vibrate) {
            navigator.vibrate([150, 120, 150]);
        }
    }, 900);
});
</script>

</body>
</html>
